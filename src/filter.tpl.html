<div class="columns">
  <div class="on-half column">
    <button class="btn" type="button" on-click="@this.set('showFilterForm', true)">Add filter</button>
  </div>
  <div class="on-half column">
    {{#if activeInputs.length}}
    currently filtering on:
    {{#each activeInputs}}
      <br>{{name}} <strong>{{operator}}</strong> <em>{{value}}</em>
      <a href="#" on-click="['editInput', this]">edit</a>
      <a href="#" on-click="['removeInput', this]">remove</a>
    {{/each}}
    {{/if}}
  </div>
</div>

{{#if showFilterForm}}
<div class="filter-modal-mask" on-click="@this.set('showFilterForm', false)">
</div>

<div class="filter-modal">
  <div class="filter-modal-header clearfix">
    {{#if currentFilter.hash}}
      <h3>Edit filter</h3>
    {{else}}
      <h3>Add filter</h3>
    {{/if}}
    <button type="button" on-click="@this.set('showFilterForm', false)" class="close">Ã—</button>
  </div>
  <hr>

  <select class="form-select" value="{{currentFilter.name}}">
    {{#each inputs}}
      <option>{{name}}</option>
    {{/each}}
  </select>

  <select class="form-select" value="{{currentFilter.operator}}">
    {{#each filterFormOperators}}
      <option>{{.}}</option>
    {{/each}}
  </select>
  {{#if filterFormType === 'string' || filterFormType === 'semver-range' || filterFormType === 'semver'}}
    <input class="form-control" type="text" value="{{currentFilter.value}}">
  {{/if}}
  {{#if filterFormType === 'number'}}
    <input class="form-control" type="number" value="{{currentFilter.value}}">
  {{/if}}

  {{#if filterFormType === 'date'}}
    <input class="form-control" type="date" value="{{currentFilter.value}}">
  {{/if}}

  <div class="form-actions">
    {{#if currentFilter.hash}}
      <button class="btn btn-primary" type="button" on-click="updateFilter">Update</button>
    {{else}}
      <button class="btn btn-primary" type="button" on-click="addFilter">Add</button>
    {{/if}}
  </div>
</div>
{{/if}}
